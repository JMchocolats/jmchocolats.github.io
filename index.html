<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>JM Chocolat</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{margin:0;font-family:Poppins,sans-serif;background:#2b1b17;color:#fff}
header,section{padding:80px 15px}
h1,h2{font-family:'Playfair Display',serif;color:#d4a373;text-align:center}

.topbar{position:fixed;top:0;width:100%;background:#1a0d09;padding:10px 16px;display:flex;justify-content:space-between;z-index:100}
.topbar img{height:40px}
.lang button{background:#d4a373;border:none;margin-left:6px;padding:6px 12px;border-radius:8px}

.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:14px;max-width:1100px;margin:auto}
.card{background:#24140f;border:2px solid #d4a373;border-radius:18px;overflow:hidden;text-align:center}
.card img{width:100%}
.card p{margin:6px 0;font-size:14px}

.thumbGrid{display:grid;grid-template-columns:repeat(auto-fit,minmax(90px,1fr));gap:10px;max-width:700px;margin:auto}
.thumb{position:relative;border:2px solid #d4a373;border-radius:14px;overflow:hidden}
.thumb img{width:100%;display:block}
.count{
 position:absolute;top:5px;right:5px;
 background:#d4a373;color:#2b1b17;
 font-size:12px;padding:4px 8px;border-radius:12px;font-weight:600
}

.box{max-width:900px;margin:auto;background:#24140f;padding:25px;border-radius:20px}
select,input{width:100%;padding:14px;border-radius:12px;border:none;margin-top:10px}

.btn{margin-top:15px;padding:14px;width:100%;border:none;border-radius:30px;font-weight:600;background:#d4a373;color:#2b1b17}

.sendBtns{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;margin-top:15px}
.sendBtns button{background:#d4a373;color:#2b1b17;border:none;padding:12px;border-radius:25px}

footer{background:#1a0d09;padding:25px;text-align:center}
footer a{color:#d4a373;margin:0 14px;font-size:26px}

.hidden{display:none}
</style>
</head>

<body>

<!-- TOP -->
<div class="topbar">
  <img src="logo.png">
  <div class="lang">
    <button onclick="setLang('fr')">FR</button>
    <button onclick="setLang('ar')">AR</button>
    <button onclick="setLang('en')">EN</button>
  </div>
</div>

<header style="margin-top:50px">
  <h1 id="title">JM Chocolat</h1>
  <p id="subtitle">Chocolaterie artisanale de luxe</p>
</header>

<!-- NOS PRODUITS -->
<section>
<h2 id="prodTitle">Nos Produits</h2>
<div class="grid" id="products"></div>
</section>

<!-- VOTRE COFFRET -->
<section>
<h2 id="coffretTitle">Votre coffret</h2>
<div class="thumbGrid" id="coffret"></div>
</section>

<!-- COMMANDE -->
<section>
<h2 id="orderTitle">Commande</h2>

<div class="box">
<select onchange="selectBox(this)">
  <option value="">—</option>
  <option value="30|90">30 – 90 DT</option>
  <option value="42|122">42 – 122 DT</option>
  <option value="49|138">49 – 138 DT</option>
  <option value="56|150">56 – 150 DT</option>
  <option value="64|165">64 – 165 DT</option>
</select>

<p id="priceBox"></p>

<button class="btn" onclick="toggleForm()" id="cmdBtn">Commande</button>

<div id="formBox" class="hidden">
  <input id="name">
  <input id="phone">
  <input id="lastname">
  <input id="address">

  <div class="sendBtns">
    <button onclick="send('wa')"><i class="fab fa-whatsapp"></i></button>
    <button onclick="send('fb')"><i class="fab fa-facebook"></i></button>
    <button onclick="send('ig')"><i class="fab fa-instagram"></i></button>
  </div>
</div>
</div>
</section>

<footer>
  <a href="https://www.facebook.com/share/1DbahDd9FF/" target="_blank"><i class="fab fa-facebook"></i></a>
  <a href="https://www.instagram.com/goat.2024861" target="_blank"><i class="fab fa-instagram"></i></a>
  <a href="https://www.tiktok.com/@jm.chocolat" target="_blank"><i class="fab fa-tiktok"></i></a>
</footer>

<script>
let lang="fr",pieces=0,price=0;

const flavors=[
 {img:"ganache_chocolatnoir.png",fr:["Chocolat Noir","Intense"],ar:["شوكولاتة سوداء","قوية"],en:["Dark Chocolate","Intense"]},
 {img:"Ganache_chocolatlait.png",fr:["Chocolat Lait","Crémeux"],ar:["شوكولاتة بالحليب","ناعمة"],en:["Milk Chocolate","Creamy"]},
 {img:"ganache_pistache.png",fr:["Pistache","Fine"],ar:["فستق","راقي"],en:["Pistachio","Fine"]},
 {img:"ganache_friuts.png",fr:["Fruits","Frais"],ar:["فواكه","منعش"],en:["Fruits","Fresh"]},
 {img:"Ganache_baklawa.png",fr:["Baklawa","Orientale"],ar:["بقلاوة","شرقي"],en:["Baklava","Oriental"]}
];

function renderProducts(){
 products.innerHTML="";
 flavors.forEach(f=>{
  products.innerHTML+=`
  <div class="card">
    <img src="${f.img}">
    <p><strong>${f[lang][0]}</strong></p>
    <p>${f[lang][1]}</p>
  </div>`;
 });
}

renderProducts();

function selectBox(s){
 if(!s.value)return;
 [pieces,price]=s.value.split("|");
 priceBox.innerText=pieces+" pièces – "+price+" DT";
 buildCoffret();
}

function buildCoffret(){
 coffret.innerHTML="";
 let base=Math.floor(pieces/flavors.length);
 let r=pieces%flavors.length;

 flavors.forEach((f,i)=>{
  let q=base+(i<r?1:0);
  coffret.innerHTML+=`
  <div class="thumb">
    <img src="${f.img}">
    <div class="count">${q}</div>
  </div>`;
 });
}

function toggleForm(){formBox.classList.toggle("hidden")}

function send(type){
 const msg=
`Commande JM Chocolat
Nom: ${name.value}
Téléphone: ${phone.value}
Prénom: ${lastname.value}
Adresse: ${address.value}
Total: ${pieces} pièces
Prix: ${price} DT`;

 let url="";
 if(type==="wa") url="https://wa.me/21627617767?text=";
 if(type==="fb") url="https://www.facebook.com/messages/t/?text=";
 if(type==="ig") url="https://www.instagram.com/direct/new/?text=";

 window.open(url+encodeURIComponent(msg),"_blank");
}

function setLang(l){
 lang=l;
 const t={
  fr:["Nos Produits","Votre coffret","Commande","Nom","Téléphone","Prénom","ولاية / مدينة / حي"],
  ar:["منتجاتنا","علبتك","طلب","الاسم","الهاتف","اللقب","الولاية / المدينة / الحي"],
  en:["Our Products","Your box","Order","First name","Phone","Last name","State / City / Area"]
 };
 prodTitle.innerText=t[l][0];
 coffretTitle.innerText=t[l][1];
 orderTitle.innerText=t[l][2];
 cmdBtn.innerText=t[l][2];
 name.placeholder=t[l][3];
 phone.placeholder=t[l][4];
 lastname.placeholder=t[l][5];
 address.placeholder=t[l][6];
 renderProducts();
 if(pieces>0) buildCoffret();
}
</script>

</body>
</html>
